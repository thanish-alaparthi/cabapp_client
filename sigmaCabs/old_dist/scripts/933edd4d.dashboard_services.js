"use strict";angular.module("sigmaCabsApp").factory("AuthenticationService",["$http","URLService","$rootScope",function(a,b){var c=null;return{login:function(c){var d="?j_username="+c.j_username+"&j_password="+c.j_password,e=a.post(b.service("login")+d,c);return e},register:function(c){var d=a.post(b.service("register"),"json="+JSON.stringify(c),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return d},logout:function(){var c=a.get(b.service("logout"));return c},getSession:function(){return a.get(b.service("session")).success(function(a){200==a.status&&(c=a.result.user)})},getSessionFromCache:function(){return c}}}]),angular.module("sigmaCabsApp").factory("URLService",function(){var a=!1,b={login:"",register:"service/accessrequest/create",session:"",logout:"j_spring_security_logout",changePassword:"service/dbridgeUser/changePassword",getUserTypes:"?url=usertype/index",addUser:"",updateUser:"?url=user/modify",getUserDetails:"",userDelete:"",addVehicle:"",updateVehicle:"",getAllVehicles:"?url=vehicle/index",getAvailableVehicles:"?url=vehicle/available",getVehicleDetails:"",getAllAvailVehicles:"",getAllAvailBookings:"?url=booking/openbookings",dispatchVehicle:"/vehicledriverbooking/assign",customerList:"?url=user/index",sendVehicleActivity:"vehicle/activity",searchCustomerByMobile:"",updateCustomerDetails:"",dispathData:"",saveBooking:"",bookingTariffs:""},c={login:"fixtures/login.json",session:"fixtures/session.json",canceledBooking:"fixtures/canceledBookingList.json",customerList:"fixtures/customerList.json",pastBooking:"fixtures/pastBookingList.json"},d={logout:"index.html",dashboard:"dashboard.html"},e={loadingText:"views/loadingText.html",usersList:"views/users/usersList.html",vehicleList:"views/vehicles/vehicleList.html",customerBookingTabs:"views/bookings/customerBookingTabs.html",existingCustomerAddBooking:"views/bookings/existingCustomerAddBooking.html",bookingForm:"views/bookings/bookingForm.html",personalForm:"views/bookings/personalForm.html",bookingHistory:"views/bookings/bookingHistory.html",extraInfoDetails:"views/bookings/extraInfoDetails.html",bookingSnapshotPackageDuration:"views/bookings/bookingSnapshotPackageDurationDetails.html",bookingSnapshotTarrifDetails:"views/bookings/bookingSnapshotTarrifDetails.html",bookingSnapshotRouteMapDetails:"views/bookings/bookingSnapshotRouteMapDetails.html",userPersonalDetailsTab:"views/users/personalDetailsTab",professionalDetailsTab:"views/users/professionalDetailsTab",driverDetailsTab:"views/users/driverDetailsTab",userEducationalDetailsSubTab:"views/users/educationalDetailsTab.html",userPastExperienceDetailsTab:"views/users/pastExperienceDetailsTab.html",vehicleBasicDetails:"views/vehicles/basicDetailsTab",vehicleExteriorCondtionTab:"views/vehicles/vehicleExteriorCondtionTab",vehicleSupportDetailsTab:"views/vehicles/vehicleSupportDetailsTab",vehicleInteriorCondtionTab:"views/vehicles/vehicleInteriorCondtionTab",vehiclePerformanceTab:"views/vehicles/vehiclePerformanceTab",vehicleFacilitiesTab:"views/vehicles/vehicleFacilitiesTab",vehicleSupportInsuranceDetailsSubTab:"views/vehicles/insuranceDetailsTab.html",vehicleSupportPermitDetailsSubTab:"views/vehicles/permitDetailsTab.html",vehicleSupportRoadTaxDetailsSubTab:"views/vehicles/roadTaxDetailsTab.html",vehicleSupportRcDetailsSubTab:"views/vehicles/rcDetailsTab.html",vehicleExterirorDentAndScratchesDetailsSubTab:"views/vehicles/dentAndScratchesTab.html",vehicleExterirorTyresDetailsSubTab:"views/vehicles/tyresDetailsTab.html",vehicleExterirorLightsDetailsSubTab:"views/vehicles/lightsDetailsTab.html",vehicleExterirorWindSheildDetailsSubTab:"views/vehicles/windShieldDetailsTab.html",vehicleExterirorCommentsDetailsSubTab:"views/vehicles/exteriorCommentsTab.html",vehiclePerformanceBatteryAndElectricalsSubTab:"views/vehicles/batteryAndElectricalsTab.html",vehiclePerformanceClutchAndBreaksSubTab:"views/vehicles/clutchAndBreaksTab.html",vehiclePerformanceAlignmentAndSuspensionsSubTab:"views/vehicles/alignmentAndSuspensionTab.html",vehiclePerformanceCoolersAndAirFiltersSubTab:"views/vehicles/coolersAndAirFiltersTab.html",vehiclePerformanceEngineAndPowerSteeringOilSubTab:"views/vehicles/engineAndPowerSteeingOilTab.html",vehiclePerformanceGearAndBreakOilSubTab:"views/vehicles/gearAndBreakOilTab.html",vehicleFacilitiesEntertainmentSubTab:"views/vehicles/entertainmentTab.html",vehicleFacilitiesAdvertismentSubTab:"views/vehicles/advertismentTab.html",vehicleLogin:"views/dispatches/vehicleLogin.html",breakDetails:"views/dispatches/breakDetails.html",reportDetails:"views/dispatches/reportDetails.html"},f="http://localhost/proxy.php";return{service:function(d){return a?"scripts/"+c[d]:f+b[d]},view:function(a){return e[a]},page:function(a){return d[a]}}}),angular.module("sigmaCabsApp").factory("PrerequisiteService",["$http","URLService","$rootScope",function(){var a=new Date,b=a.getFullYear().toString(),c=(a.getMonth()+1).toString(),d=a.getDate().toString(),e=b+"-"+(c[1]?c:"0"+c[0])+"-"+(d[1]?d:"0"+d[0]),f=parseInt(b)+1+"-"+(c[1]?c:"0"+c[0])+"-"+(d[1]?d:"0"+d[0]);return{currentDate:e,nextYearDate:f,bookingStatuses:{1:"Open",2:"Closed",3:"Cancled"},isPrimaryTraveller:{0:"No",1:"Yes"},paymentModes:{1:"Cash",2:"Card"},userTypes:{1:"Driver",2:"Client",3:"Customer",4:"Other-Employee",5:"Dispatcher",6:"Call-Taker"},userJobCategoriesNames:{1:"Permanant",2:"Contract"},userJobCategories:[{type:"1",title:"Permanant"},{type:"2",title:"Contract"}],vehicleTypeOptions:{1:"Small",2:"Medium",3:"Big",4:"Luxury"},vehicleAttachmentTypeNames:{1:"[COV] Operated by Company",2:"[COV] Leased to Driver",3:"[LV] Operated by Company",4:"[LV] Sub-leased to Driver",5:"[AV] Operated by Self [Driver-Owner]",6:"[AV] Operated by Other Driver"},vehicleAttachmentTypeOptions:[{type:"1",attachmentCategory:"Company Owned Vehicle [COV]",name:"[COV] Operated by Company"},{type:"2",attachmentCategory:"Company Owned Vehicle [COV]",name:"[COV] Leased to Driver"},{type:"3",attachmentCategory:"Leased Vehicle [LV]",name:"[LV] Operated by Company"},{type:"4",attachmentCategory:"Leased Vehicle [LV]",name:"[LV] Sub-leased to Driver"},{type:"5",attachmentCategory:"Attached Vehicle [AV]",name:"[AV] Operated by Self [Driver-Owner]"},{type:"6",attachmentCategory:"Attached Vehicle [AV]",name:"[AV] Operated by Other Driver"}],carrierTypes:[{title:"No-Carrier",type:"1"},{title:"Open Carrier",type:"2"},{title:"Carrier With Lock",type:"3"}],insuranceType:[{title:"Full",type:"1"},{title:"Composite",type:"2"}],permitType:[{title:"Full",type:"1"},{title:"Composite",type:"2"}],premiumType:[{title:"Full",type:"1"},{title:"Composite",type:"2"}],dentAndScratchType:[{title:"Dent",type:"1"},{title:"Scratch",type:"2"}],dentAndScratchSeverityType:[{title:"Low",type:"1"},{title:"Normal",type:"2"},{title:"Heavy",type:"3"}],vehicleConditionTypes:[{title:"ok",type:"1"},{title:"Acceptable",type:"2"},{title:"Need to Change",type:"3"}],billingSystemTypes:[{title:"Company Cutomized",type:"1"},{title:"Regular",type:"2"}],companyBrandingOptions:[{title:"Yes",type:!0},{title:"No",type:!1}],entertainmentOptions:[{title:"Yes",type:!0},{title:"No",type:!1}],luggageTypes:[{title:"No-Luggage",type:"1"},{title:"Medium-Luggage",type:"2"},{title:"Heavy-Luggage",type:"3"}],customerFields:{email:"Email",altMobile:"Alt. Mobile",source:"Source",dob:"DOB"},customerFieldTypes:{email:"text",altMobile:"text",source:"text",dob:"text"},pickupPlaceTypes:[{title:"Home",type:"1"},{title:"Office",type:"2"}]}}]),angular.module("sigmaCabsApp").factory("modalWindow",["$http","$dialog",function(a,b){var c={};return c.addDataToModal=function(a){a.backdrop=!0,a.keyboard=!1,a.backdropClick=!1;{var c=b.dialog(a);$(c.modalEl)}c.open()},c.addDataToMessageBox=function(){b.messageBox(title,msg,btns).open().then(function(a){alert("dialog closed with result: "+a)})},c}]),angular.module("sigmaCabsApp").factory("wizardHandler",["$rootScope","$http",function(){var a=function(a){angular.extend(this,a)},b=[],c=0;return a.resetStep=function(){c=0,b=[]},a.setSteps=function(a){b=a},a.setStep=function(a){c=a},a.getCurrentStep=function(){return c},a.incrementStep=function(){c++},a.decrementStep=function(){c-=this.isFirstStep()?0:1},a.getNextLabel=function(){return this.isLastStep()?"Finish":"Next"},a.isFirstStep=function(){return 0===c},a.isLastStep=function(){var a=!1;return c===b.length-1&&(a=!0),a},a.clearLocation=function(){this.currentTab=""},a.showCurrentTab=function(){var a=this.getCurrentStep();this.currentTab=b[a].template+".html"},a}]),angular.module("sigmaCabsApp").factory("appUtils",["$http","$rootScope",function(){return{mergeObj:function(a,b){for(var c in b)try{a[c]=b[c].constructor==Object?mergeObj(a[c],b[c]):b[c]}catch(d){a[c]=b[c]}return a}}}]),angular.module("sigmaCabsApp").factory("UsersService",["$http","URLService","$rootScope",function(a,b){return{fnAddUserData:function(c){return a({url:b.service("addUser"),method:"POST",data:{url:"user/save",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnGetAllUsersData:function(){return a({method:"GET",url:b.service("customerList"),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnDeleteUser:function(c){return a({method:"POST",url:b.service("userDelete"),data:{url:"user/delete",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnGetUserById:function(c){return a({method:"POST",url:b.service("getUserDetails"),data:{url:"user/details",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),angular.module("sigmaCabsApp").factory("BookingService",["$http","URLService","$rootScope",function(a,b){return{fnFindCustomerByMobile:function(c){return a({url:b.service("searchCustomerByMobile"),method:"POST",data:{url:"user/customerdetails",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnSaveBooking:function(c){return a({url:b.service("saveBooking"),method:"POST",data:{url:"booking/save",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnGetBookingTariffs:function(c){return a({url:b.service("bookingTariffs"),method:"POST",data:{url:"booking/tariff",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),angular.module("sigmaCabsApp").factory("VehiclesService",["$http","URLService","$rootScope",function(a,b){return{fnGetAllVehiclesData:function(){return a({method:"GET",url:b.service("getAllVehicles"),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnGetAvailabeVehicles:function(){return a({method:"GET",url:b.service("getAvailableVehicles"),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnGetVehiclesDD:function(){return a({method:"GET",url:b.service("getAllVehicles"),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnGetVehicleDataById:function(c){return console.log("dataParams",c),a({method:"POST",url:b.service("getVehicleDetails"),data:{url:"vehicle/details",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnAddVehicleData:function(c){return a({url:b.service("addVehicle"),method:"POST",data:{url:"vehicle/save",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnUpdateVehicleData:function(c){return a({url:b.service("updateVehicle"),method:"POST",data:{url:"vehicle/save",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnGetVehicleOwnersList:function(){return a({method:"GET",url:b.service("customerList"),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),angular.module("sigmaCabsApp").factory("CustomerService",["$http","URLService","$rootScope",function(a,b){return{fnUpdateCustomerDetails:function(c){return a({url:b.service("updateCustomerDetails"),method:"POST",data:{url:"customer/update",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),angular.module("sigmaCabsApp").factory("dispatchService",["$http","URLService","$rootScope",function(a,b){return{fnAddDispatchData:function(c){return a({url:b.service("dispatchVehicle"),method:"POST",data:{url:"vehicledriverbooking/assign",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnGetDisBookingData:function(){return a({method:"GET",url:b.service("getAllAvailBookings"),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnGetDisVehiData:function(c){return a({method:"POST",url:b.service("getAllAvailVehicles"),data:{url:"vehicle/available",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnGetAllDrivData:function(c){return a({method:"POST",url:b.service("getAllAvailVehicles"),data:{url:"user/specific",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fnSendLogDetails:function(c){return a({method:"POST",url:b.service("getVehicleDetails"),data:{url:"vehicle/activity",data:JSON.stringify(c)},headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]);